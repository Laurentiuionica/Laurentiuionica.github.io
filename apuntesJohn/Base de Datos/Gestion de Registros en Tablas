# ğŸ“š **GestiÃ³n de Registros en Tablas (MariaDB / SQL BÃ¡sico)**  

## ğŸ”¹ **1. CreaciÃ³n de Tablas (`CREATE TABLE`)**  
Para almacenar datos, primero necesitas una tabla. Ejemplo:  
```sql
CREATE TABLE clientes (
    id INT AUTO_INCREMENT PRIMARY KEY,
    nombre VARCHAR(50) NOT NULL,
    email VARCHAR(100) UNIQUE,
    fecha_registro DATE DEFAULT CURRENT_DATE,
    saldo DECIMAL(10, 2)
);
```
ğŸ“Œ **Detalles importantes:**  
- `AUTO_INCREMENT`: Asigna un nÃºmero automÃ¡tico (ideal para PK).  
- `PRIMARY KEY`: Identificador Ãºnico.  
- `NOT NULL`: Obliga a que el campo no sea vacÃ­o.  
- `UNIQUE`: Evita valores duplicados.  
- `DEFAULT`: Establece un valor por defecto.  

---

## ğŸ”¹ **2. InserciÃ³n de Datos (`INSERT`)**  
AÃ±ade registros a una tabla:  
```sql
-- Forma explÃ­cita (indicando columnas)
INSERT INTO clientes (nombre, email, saldo)
VALUES ('Juan PÃ©rez', 'juan@example.com', 1500.50);

-- Forma implÃ­cita (todas las columnas, en orden)
INSERT INTO clientes VALUES (NULL, 'Ana LÃ³pez', 'ana@test.com', '2023-10-01', 2000.00);
```
âš  **Cuidado:** Si omites columnas con `NOT NULL`, darÃ¡ error.  

---

## ğŸ”¹ **3. Consulta de Datos (`SELECT`)**  
Recupera registros con filtros, ordenamiento y agrupaciÃ³n:  
```sql
-- BÃ¡sico
SELECT * FROM clientes; -- Todos los campos

-- Con filtros (WHERE)
SELECT nombre, saldo FROM clientes WHERE saldo > 1000;

-- Ordenar (ORDER BY)
SELECT * FROM clientes ORDER BY nombre DESC; -- ASC (ascendente) o DESC (descendente)

-- Agrupar (GROUP BY)
SELECT COUNT(*) AS total, fecha_registro 
FROM clientes 
GROUP BY fecha_registro;
```
ğŸ” **Funciones Ãºtiles:**  
- `COUNT()`, `SUM()`, `AVG()` â†’ AgregaciÃ³n.  
- `LIKE '%palabra%'` â†’ BÃºsqueda parcial.  

---

## ğŸ”¹ **4. ActualizaciÃ³n de Datos (`UPDATE`)**  
Modifica registros existentes:  
```sql
UPDATE clientes 
SET saldo = saldo + 100, email = 'nuevo@email.com'
WHERE id = 1;
```
ğŸš¨ **Â¡OJO!** Si olvidas el `WHERE`, se actualizarÃ¡n **TODOS** los registros.  

---

## ğŸ”¹ **5. EliminaciÃ³n de Datos (`DELETE`)**  
Borra registros (pero no la tabla):  
```sql
DELETE FROM clientes WHERE saldo = 0;
```
ğŸ’€ **Peligro:** Sin `WHERE`, borras **todo el contenido** (pero la tabla sigue existiendo).  

---

## ğŸ”¹ **6. ModificaciÃ³n de Estructura (`ALTER TABLE`)**  
Cambia la estructura de una tabla:  
```sql
-- AÃ±adir columna
ALTER TABLE clientes ADD COLUMN telefono VARCHAR(15);

-- Eliminar columna
ALTER TABLE clientes DROP COLUMN telefono;

-- Modificar tipo de dato
ALTER TABLE clientes MODIFY COLUMN saldo FLOAT;
```

---

## ğŸ”¹ **7. Claves Primarias y ForÃ¡neas (Relaciones)**  
ğŸ— **Clave Primaria (PK):** Identificador Ãºnico.  
ğŸ”— **Clave ForÃ¡nea (FK):** Relaciona tablas.  

```sql
CREATE TABLE pedidos (
    id INT AUTO_INCREMENT PRIMARY KEY,
    cliente_id INT,
    monto DECIMAL(10, 2),
    FOREIGN KEY (cliente_id) REFERENCES clientes(id)
);
```
ğŸ“Œ **Importante:** Las FK aseguran **integridad referencial** (no puedes borrar un cliente si tiene pedidos).  

---

## ğŸ”¹ **8. Transacciones (ACID)**  
Para operaciones seguras:  
```sql
START TRANSACTION;
INSERT INTO clientes (nombre) VALUES ('Carlos');
UPDATE pedidos SET monto = 100 WHERE cliente_id = 1;
COMMIT; -- Confirma los cambios
-- O bien: ROLLBACK; (Deshace todo en la transacciÃ³n)
```
âœ… **Ventaja:** Si algo falla, puedes revertir todo con `ROLLBACK`.  

---

## ğŸ”¹ **9. Ãndices (`CREATE INDEX`)**  
Mejoran la velocidad de bÃºsqueda:  
```sql
CREATE INDEX idx_nombre ON clientes(nombre);
```
âš¡ **Ãštil** en columnas usadas frecuentemente en `WHERE` o `JOIN`.  

---

## ğŸ”¹ **10. Vistas (`CREATE VIEW`)**  
Consulta guardada como "tabla virtual":  
```sql
CREATE VIEW clientes_premium AS
SELECT * FROM clientes WHERE saldo > 5000;
```
ğŸ“ **Ventaja:** Simplifica consultas complejas.  

---

## ğŸ”¥ **Bonus: Buenas PrÃ¡cticas**  
âœ” **Usa `WHERE` en `UPDATE`/`DELETE`** para evitar cambios masivos.  
âœ” **Normaliza tus tablas** (evita datos duplicados).  
âœ” **Backups frecuentes** (`mysqldump` es tu amigo).  
âœ” **Prueba en desarrollo** antes de ejecutar en producciÃ³n.  

---




# ğŸ¯ **Resumen Express: `DISTINCT` y `LIMIT` en SQL**  

## ğŸ” **`DISTINCT` â†’ Elimina duplicados**  
Filtra registros **Ãºnicos** en una columna o conjunto de columnas:  
```sql
SELECT DISTINCT columna FROM tabla;  
-- Ejemplo:  
SELECT DISTINCT ciudad FROM clientes;  -- Lista ciudades sin repetir  
```  
ğŸ“Œ **Clave:**  
- Ãštil para datos repetidos (ej: paÃ­ses, categorÃ­as).  
- Puede ralentizar consultas en tablas grandes (Â¡usa con cabeza!).  

---

## ğŸ›‘ **`LIMIT` â†’ Controla la cantidad de resultados**  
Limita el nÃºmero de filas devueltas:  
```sql
SELECT * FROM tabla LIMIT 5;  -- Solo 5 registros  
-- Con paginaciÃ³n:  
SELECT * FROM productos LIMIT 10 OFFSET 20;  -- Registros 21 al 30  
```  
ğŸ“Œ **Clave:**  
- Ideal para paginaciÃ³n o evitar sobrecarga.  
- **Siempre va al final** de la consulta.  

---

## ğŸ’¡ **Combinando ambos**  
```sql
-- "Dame 5 ciudades Ãºnicas, ordenadas alfabÃ©ticamente":  
SELECT DISTINCT ciudad FROM clientes  
ORDER BY ciudad  
LIMIT 5;  
```  
âœ… **Â¿CuÃ¡ndo usarlos juntos?**  
- Cuando necesitas **un muestreo rÃ¡pido sin duplicados**.  
- Ejemplo: Top 3 categorÃ­as mÃ¡s vendidas (sin repetir).  

---

### ğŸš€ **Bonus: Diferencias clave**  
| `DISTINCT` | `LIMIT` |  
|------------|---------|  
| Filtra duplicados | Limita filas |  
| Afecta a columnas | Afecta a registros |  
| Puede ser lento | Siempre rÃ¡pido |  

âš  **Â¡Ojo!** `DISTINCT` aplica a **todas las columnas** del `SELECT`. Si necesitas granularidad, usa `GROUP BY`.  

